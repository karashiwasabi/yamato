<!-- static/index.html -->
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>YAMATO 集計システム</title>
  <link rel="stylesheet" href="/static/css/styles.css">
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
  <!-- ヘッダー/ナビ -->
  <header id="header">
    <div id="indicator"></div>
    <nav>
      <button id="datBtn" class="btn">DAT</button>
      <button id="usageBtn" class="btn">USAGE</button>
      <button id="aggregateBtn" class="btn">集計</button>
      <button id="inventoryBtn" class="btn">棚卸</button>
      <button id="ma2Btn" class="btn">MA2編集</button>
    </nav>
    <!-- 集計フィルタ -->
<div id="aggregateFilter">
      <form id="filterForm">
        <div class="row">
          <button type="button" id="printTable" class="btn">印刷</button>
          <label>開始日:<input type="date" name="from" required></label>
          <label>終了日:<input type="date" name="to"   required></label>
          <label>商品名フィルタ:<input type="text" name="filter" placeholder="部分一致OK"></label>
          <label><input type="checkbox" name="doyaku" value="1">毒薬</label>
          <label><input type="checkbox" name="gekiyaku" value="1">劇薬</label>
          <label><input type="checkbox" name="mayaku" value="1">麻薬</label>
          <label><input type="checkbox" name="kouseishinyaku" value="1">向1</label>
          <label><input type="checkbox" name="kouseishinyaku" value="2">向2</label>
          <label><input type="checkbox" name="kouseishinyaku" value="3">向3</label>
          <label><input type="checkbox" name="kakuseizai" value="1">覚せい剤</label>
          <label><input type="checkbox" name="kakuseizaiGenryou" value="1">覚せい剤原料</label>
          <button type="submit" class="btn">実行</button>
        </div>
      </form>
    </div>
  </header>

  <!-- ファイル入力群（非表示） -->
  <input type="file" id="datInput"       style="display:none" multiple>
  <input type="file" id="usageInput"     style="display:none" multiple>
  <input type="file" id="inventoryInput" style="display:none" accept=".csv">

  <!-- DAT/USAGE/集計/棚卸 用テーブル -->
  <table id="outputTable">
    <thead></thead>
    <tbody></tbody>
  </table>

  <!-- デバッグ用表示 -->
  <pre id="debug" style="background:#f0f0f0; padding:0.5em; margin:1em 0;"></pre>

  <!-- MA2編集用グリッド -->
  <div class="ma2-editor" style="display:none;">
    <div class="ma2-grid header">
      <div>JANコード</div>
      <div>YJコード</div>
      <div>商品名</div>
      <div>包装形態</div>
      <div>包装単位</div>
      <div>包装総量</div>
      <div>JAN包装数量</div>
      <div>JAN包装数量単位</div>
      <div>JAN包装総量</div>
      <div>操作</div>
    </div>
    <div class="ma2-grid body">
      <!-- ma2.js が <div class="row">…を追加 -->
    </div>
  </div>

  <!-- スクリプト読み込み順 -->
  <script src="/static/js/common.js"></script>
  <script src="/static/js/dat.js"></script>
  <script src="/static/js/usage.js"></script>
  <script src="/static/js/aggregate.js"></script>
  <script src="/static/js/inventory.js"></script>
  <script src="/static/js/ma2.js"></script>
</body>
</html>